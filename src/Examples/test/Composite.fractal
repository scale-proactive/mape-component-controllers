<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE definition PUBLIC "-//objectweb.org//DTD Fractal ADL 2.0//EN" "classpath://org/objectweb/proactive/core/component/adl/xml/proactive.dtd">

<definition name="test.Composite">

	<interface signature="test.Master" role="server" name="test"/>
	<interface signature="org.objectweb.proactive.extensions.autonomic.controllers.monitoring.MonitorControllerMulticast"
		role="client" name="multicast-itf" cardinality="multicast"/>

	<component name="Master">
		<interface signature="test.Master" role="server" name="master"/>
		<interface signature="test.Slave" role="client" name="slave"/>
		<content class="test.MasterImpl"/>
		<controller desc="primitive"/>
	</component>

	<component name="Slave">
		<interface signature="test.Slave" role="server" name="slave"/>
		<content class="test.SlaveImpl"/>
		<controller desc="primitive"/>
	</component>

	<binding client="this.test" server="Master.master"/>
	<binding client="Master.slave" server="Slave.slave"/>

	<controller desc="composite">
		<interface signature="test.Monitor" role="server" name="monitor-controller"/>
		<component name="MonitorController">
			<interface signature="test.Monitor" role="server" name="monitor-nf"/>
			<content class="test.MonitorImpl"/>
			<controller desc="primitive"/>
		</component>
		<binding client="this.monitor-controller" server="MonitorController.monitor-nf"/>
	</controller>

</definition>
